<!DOCTYPE html>
<html>
<head>
  <title>BPMx Customer</title>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- STYLES -->
  <link rel="stylesheet" type="text/css" href="/apps/app-cdn-2/bootstrap/3.3.4/css/bootstrap.min.css" />
  <link rel="stylesheet" href="components/angular-advanced-searchbox/angular-advanced-searchbox.min.css">
  <link rel="stylesheet" href="components/irm-language-change/irm-language-change.css">
  <link rel="stylesheet" type="text/css" href="css/bootstrap-nav-wizard.css" />
  <link rel="stylesheet" type="text/css" href="css/BPMxCustomer.css" />

  <!-- TIBCO Dependencies -->
  <script type="text/javascript" src="/apps/app-cdn-2/forge/forge.min.js"></script>
  <script type="text/javascript" src="/apps/app-cdn-2/forge/client.min.js"></script>
  <script type="text/javascript" src="/apps/app-cdn-2/tweenmax/TweenMax.min.js"></script>
  <script type="text/javascript" src="/apps/app-cdn-2/tcf/tcf.nocache.js"></script>
  <script type="text/javascript" src="/apps/app-cdn-2/jquery/jquery-3.1.1.min.js"></script>
  <script type="text/javascript" src="/apps/app-cdn-2/angular/1.6.5/angular.min.js"></script>
  <script type="text/javascript" src="/apps/app-cdn-2/angular-ui-grid/ui-grid.min.js"></script>
  <script type="text/javascript" src="/apps/app-cdn-2/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/camel-to-human.js"></script>
  <script type="text/javascript" src="js/com.imtn.la.bpmx.enums.js"></script>

  <!-- Angular Loading Bar -->
  <link rel="stylesheet" type="text/css" href="js/angular-loading-bar/loading-bar.min.css" />
  <script type="text/javascript" src="js/angular-loading-bar/loading-bar.min.js"></script>

  <!-- Main Application injections -->
  <script type="text/javascript" src="js/BPMxCustomer.js"></script>
  <script type="text/javascript" src="js/BPMxCustomerController.js"></script>

  <!-- Factories -->
  <script type="text/javascript" src="js/factory/URLFactory.js"></script>
  <script type="text/javascript" src="js/factory/CustomerFactory.js"></script>

  <!-- Services -->
  <script type="text/javascript" src="js/services/PayloadService.js"></script>
  <script type="text/javascript" src="js/services/CaseService.js"></script>
  <script type="text/javascript" src="js/services/BPMLoginService.js"></script>
  <script type="text/javascript" src="js/services/GlobalDataService.js"></script>
  <script type="text/javascript" src="js/services/CaseDisplayBPMServices.js"></script>
  <script type="text/javascript" src="js/services/SrcAppBPMServices.js"></script>
  <script type="text/javascript" src="js/services/DocsViewAppBPMServices.js"></script>

  <!-- Pages -->
  <script type="text/javascript" src="components/page-home/page-home-controller.js"></script>
  <script type="text/javascript" src="components/page-customer/page-customer-controller.js" ></script>
  <script type="text/javascript" src="components/page-project/page-project-controller.js"></script>
  <script type="text/javascript" src="components/page-document-type/page-document-type-controller.js"></script>
  <script type="text/javascript" src="components/page-file/page-file-controller.js"></script>
  <script type="text/javascript" src="components/page-container/page-container-controller.js"></script>
  <script type="text/javascript" src="components/page-reports/page-reports-controller.js" ></script>
  <script type="text/javascript" src="components/page-drc2/page-drc2-controller.js" ></script>
  <script type="text/javascript" src="components/page-case-search/page-case-search-controller.js"></script>
  <script type="text/javascript" src="components/page-case-display/page-case-display-controller.js"></script>

  <!-- Analytics -->
  <script type="text/javascript" src="components/generic-webplayer/webplayerapi76.js"></script>
  <script type="text/javascript" src="components/generic-webplayer/generic-webplayer-directive.js"></script>
  <script type="text/javascript" src="components/generic-webplayer/generic-webplayer.js"></script>
  <script type="text/javascript" src="components/analytics-section/analytics-section-directive.js"></script>
  <script type="text/javascript" src="components/analytics-section/analytics-section.js"></script>
  <!-- Others -->
  <script type="text/javascript" src="js/angular-bootstrap/ui-bootstrap-tpls.min.js"></script>
  <script type="text/javascript" src="js/angular-utils-pagination/dirPagination.js"></script>
  <script type="text/javascript" src="components/angular-advanced-searchbox/angular-advanced-searchbox.min.js"></script>
  <script type="text/javascript" src="components/irm-language-change/irm-language-change-directive.js"></script>
  <!-- moment js -->
  <script type="text/javascript" src="js/moment/moment.min.js"></script>
  <!-- Microservice source-->
  <script type="text/javascript" src="components/micro-service/micro-service.js"></script>
  <script type="text/javascript" src="components/micro-service/micro-service-directive.js"></script>
  <!-- case-context-menu sources -->
  <script type="text/javascript" src="components/case-context-menu/case-context-menu.js"></script>
  <script type="text/javascript" src="components/case-context-menu/case-context-menu-directive.js"></script>
  <!-- assignment-display sources-->
  <script type="text/javascript" src="components/assignment-display/assignment-display.js"></script>
  <script type="text/javascript" src="components/assignment-display/assignment-display-directive.js"></script>
  <!-- table-display sources -->
  <script type="text/javascript" src="components/table-display/table-display.js"></script>
  <script type="text/javascript" src="components/table-display/table-display-directive.js"></script>
  <!-- case action list -->
  <script type="text/javascript" src="components/case-action-list/case-action-list.js"></script>
  <script type="text/javascript" src="components/case-action-list/case-action-list-directive.js"></script>
  <!-- case-audit-display sources -->
  <script type="text/javascript" src="components/case-audit-display/case-audit-display.js"></script>
  <script type="text/javascript" src="components/case-audit-display/case-audit-display-directive.js"></script>
  <!-- case-class-display sources -->
  <script type="text/javascript" src="components/case-class-display/case-class-display.js"></script>
  <script type="text/javascript" src="components/case-class-display/case-class-display-directive.js"></script>
  <!-- case-comment-display sources -->
  <script type="text/javascript" src="components/case-comment-display/case-comment-display.js"></script>
  <script type="text/javascript" src="components/case-comment-display/case-comment-display-directive.js"></script>
  <!-- case-url-display sources -->
  <script type="text/javascript" src="components/case-url-display/case-url-display.js"></script>
  <script type="text/javascript" src="components/case-url-display/case-url-display-directive.js"></script>
  <!-- case-display sources -->
  <script type="text/javascript" src="components/case-display/case-display.js"></script>
  <script type="text/javascript" src="components/case-display/case-display-directive.js"></script>
  <!-- generic-comment-display sources-->
  <script type="text/javascript" src="components/generic-comment-display/generic-comment-display.js"></script>
  <script type="text/javascript" src="components/generic-comment-display/generic-comment-display-directive.js"></script>
  <!-- case-document-display sources -->
  <script type="text/javascript" src="components/case-document-display/docsearchbox.js"></script>
  <script type="text/javascript" src="components/case-document-display/case-document-display.js"></script>
  <script type="text/javascript" src="components/case-document-display/case-document-display-directive.js"></script>
  <!-- case-document-upload sources -->
  <script type="text/javascript" src="components/case-document-upload/case-document-upload.js"></script>
  <script type="text/javascript" src="components/case-document-upload/case-document-upload-directive.js"></script>
  <!-- docs-view-display sources-->
  <script type="text/javascript" src="components/docs-view-display/docs-view-display.js"></script>
  <script type="text/javascript" src="components/docs-view-display/docs-view-display-directive.js"></script>
  <!-- case milestone directive -->
  <script type="text/javascript" src="components/case-milestone/case-milestone.js"></script>
  <script type="text/javascript" src="components/case-milestone/case-milestone-directive.js"></script>
  <!-- case-task-display sources -->
  <script type="text/javascript" src="components/case-task-display/case-task-display.js"></script>
  <script type="text/javascript" src="components/case-task-display/case-task-display-directive.js"></script>
  <!-- case-workitem-display sources -->
  <script type="text/javascript" src="components/case-workitem-display/case-workitem-display.js"></script>
  <script type="text/javascript" src="components/case-workitem-display/case-workitem-display-directive.js"></script>
  <!-- linked-case-display sources -->
  <script type="text/javascript" src="components/linked-case-display/linked-case-display.js"></script>
  <script type="text/javascript" src="components/linked-case-display/linked-case-display-directive.js"></script>

</head>
<body ng-controller="BPMxCustomerController">
  <!-- Spinner -->
  <div id="irm-spinner" class="irm-spinner-loading" style="display: none;">
    <div class="animated-container"><div class="messaging"></div></div>
  </div>
  <!-- End Spinner -->
  <div class="m-app-loading" ng-animate-children>
    <!--
      HACKY CODE WARNING: I'm putting Style block inside directive so that it 
      will be removed from the DOM when we remove the directive container.
    -->
    <style type="text/css">
      div.m-app-loading {
        position: fixed ;
        z-index: 10000;
      }

      div.m-app-loading div.animated-container {
        background-color: #32689B ;
        bottom: 0px ;
        left: 0px ;
        opacity: 1.0 ;
        position: fixed ;
        right: 0px ;
        top: 0px ;
        z-index: 999999 ;
      }

      /* Used to initialize the ng-leave animation state. */
      div.m-app-loading div.animated-container.ng-leave {
        opacity: 1.0 ;
        transition: all linear 200ms ;
        -webkit-transition: all linear 200ms ;
      }

      /* Used to set the end properties of the ng-leave animation state. */
      div.m-app-loading div.animated-container.ng-leave-active {
        opacity: 0 ;
      }

      div.m-app-loading div.messaging {
        color: #FFFFFF ;
        left: 0px ;
        margin-top: auto ;
        position: absolute ;
        right: 0px ;
        text-align: center ;
        top: 30% ;
      }

      div.m-app-loading div.messaging > img {
        margin-left: auto;
        margin-right: auto;
      }
      div.m-app-loading div.messaging > img.spinner {
        width: 20px;
        height: 20px;
      }
      div.m-app-loading h1 {
        font-size: 26px ;
        line-height: 35px ;
        margin: 0px 0px 20px 0px ;
      }

      div.m-app-loading p {
        font-size: 18px ;
        line-height: 14px ;
        margin: 0px 0px 0px 0px ;
      }
    </style>

    <!-- BEGIN: Actual animated container. -->
    <div class="animated-container">
      <div class="messaging">
        <img src="components/login/images/logo.png" class="img-responsive" alt="Iron Mountain Logo" />
        <div id="irm-spinner-logo">
          <svg class="bl" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <linearGradient id="auroraGrad" x1="184" y1="300" x2="616" y2="300" gradientUnits="userSpaceOnUse">
                <stop class="auroraStops" offset="0" stop-color="#32689B"/>
                <stop class="auroraStops" offset="0.5" stop-color="#00AEDC"/>
                <stop class="auroraStops" offset="1" stop-color="#3C8EC9"/>
              </linearGradient>
              <linearGradient id="outlineGrad" x1="401.5" y1="78" x2="401.5" y2="522" gradientUnits="userSpaceOnUse">
                <stop offset="0" stop-color="#f2f2f2"/>
                <stop offset="1" stop-color="#e3e3e3"/>
              </linearGradient>
              <clipPath id="mountainMask">
                <circle class="mountainMask" cx="400" cy="300" r="214" fill="none"/>
              </clipPath>
              <linearGradient id="mountainGrad" x1="256.0217" y1="334.6514" x2="674.9797" y2="92.7659" gradientTransform="matrix(1 0 0 -1 -100 664.0547)" gradientUnits="userSpaceOnUse">
                <stop offset="0" stop-color="#fff"/>
                <stop offset="0.5" stop-color="#efefef"/>
                <stop offset="1" stop-color="#ccc"/>
              </linearGradient>
            </defs>
            <g class="mountainGroup">
              <circle class="outlineBg" cx="401.5" cy="300" r="214" fill="url(#outlineGrad)" stroke-miterlimit="10" stroke-width="16" stroke="none" opacity="0.5"/>
              <circle class="aurora" cx="400" cy="300" r="214" fill="url(#auroraGrad)"/>
              <g clip-path="url(#mountainMask)">         
                <g class="mountains" transform="translate(35 -30)">
                 <path fill="url(#mountainGrad)" d="M169.026,541.195l1.029,0.323l-10.126-21.497l9.097-13.656l21.305,26.283
                  l-17.104-35.116l8.043-12.975l28.99,37.487l-24.465-46.368l9.084-14.662l31.12,43.34l-26.595-52.891l7.707-11.945l34.256,45.039
                  l-28.653-53.896l7.349-12.293l31.096,42.287l-25.159-52.509l6.631-11.597l34.95,44.332l-28.666-56.29l6.643-9.886L284,423.133
                  l-31.814-61.031l6.284-9.215l39.845,54.927l0.347-0.349L265.831,339.9l5.206-8.139l44.753,60.013l-37.044-75.046l5.589-7.17
                  l53.478,76.052l-45.435-92.437l4.908-6.822l62.55,91.766l-53.131-109.839l4.883-6.141l70.247,109.158l-61.497-125.531l4.201-6.14
                  l78.624,121.426l-69.204-139.152l3.854-5.123l79.678,123.82l-69.899-141.199l17.463-29.348L605.5,579.376H126.74l30.054-52.854
                  L169.026,541.195z"/>
                </g>      
                <g class="mountains" transform="translate(415 -30)">
                 <path fill="url(#mountainGrad)" d="M169.026,541.195l1.029,0.323l-10.126-21.497l9.097-13.656l21.305,26.283
                  l-17.104-35.116l8.043-12.975l28.99,37.487l-24.465-46.368l9.084-14.662l31.12,43.34l-26.595-52.891l7.707-11.945l34.256,45.039
                  l-28.653-53.896l7.349-12.293l31.096,42.287l-25.159-52.509l6.631-11.597l34.95,44.332l-28.666-56.29l6.643-9.886L284,423.133
                  l-31.814-61.031l6.284-9.215l39.845,54.927l0.347-0.349L265.831,339.9l5.206-8.139l44.753,60.013l-37.044-75.046l5.589-7.17
                  l53.478,76.052l-45.435-92.437l4.908-6.822l62.55,91.766l-53.131-109.839l4.883-6.141l70.247,109.158l-61.497-125.531l4.201-6.14
                  l78.624,121.426l-69.204-139.152l3.854-5.123l79.678,123.82l-69.899-141.199l17.463-29.348L605.5,579.376H126.74l30.054-52.854
                  L169.026,541.195z"/>
               </g>
              </g>
              <circle class="outline" cx="401.5" cy="300" r="214" fill="none" stroke-miterlimit="10" stroke-width="16" stroke="url(#outlineGrad)"/>
            </g>
          </svg>          
        </div>
      </div>
    </div>
    <!-- END: Actual animated container. -->
  </div>
  <script type="text/javascript">var select=function(a){return document.querySelector(a)},selectAll=function(a){return document.querySelectorAll(a)},auroraColors=["#32689B","#00AEDC","#3C8EC9"],auroraGrad=select("#auroraGrad"),aurora=select(".aurora"),mountains=selectAll(".mountains *"),mountainMask=select(".mountainMask"),outline=select(".outline"),outlineBg=select(".outlineBg"),auroraStops=selectAll(".auroraStops");TweenMax.set("svg",{visibility:"visible"});var mainTl=new TimelineMax({}),auroraGradTl=new TimelineMax({repeat:-1});auroraGradTl.staggerTo(auroraStops,.42,{cycle:{stopColor:[auroraColors[1],auroraColors[2],auroraColors[0]]},ease:Sine.easeInOut},0).staggerTo(auroraStops,.42,{cycle:{stopColor:[auroraColors[2],auroraColors[0],auroraColors[1]]},ease:Sine.easeInOut},0).staggerTo(selectAll(".auroraStops"),.42,{cycle:{stopColor:[auroraColors[0],auroraColors[1],auroraColors[2]]},ease:Sine.easeInOut},0);var mountainTl=new TimelineMax({repeat:-1,repeatDelay:0});mountainTl.to([outline,aurora,mountainMask],1.5,{attr:{r:"-=190"},ease:Elastic.easeIn.config(.61,.8),repeat:1,yoyo:!0}).staggerTo(mountains,2.75,{cycle:{transformOrigin:["60% 0%","40% 0%"],x:[-380]},ease:Expo.easeInOut},.1,"-=3").to(outlineBg,1.5,{attr:{r:"+=20"},repeat:1,yoyo:!0,ease:Elastic.easeIn.config(.91,.48)},"-="+mountainTl.recent().duration()),mainTl.add(auroraGradTl,0),mainTl.add(mountainTl,0);</script>
  <!-- END: App-Loading Screen. -->
  <nav class="navbar navbar-irm navbar-fixed-top">
    <div class="container-fluid" layout="row">

      <div class="navbar-header" layout="row" layout-align="start center" flex="33">
        <a href="#!/" ng-click="activePage = 'home'" class="navbar-brand">
          <img src="images/irm_white.svg" alt="Iron Mountain Logo" />
        </a>
      </div>
      <div class="collapse navbar-collapse" layout="row" layout-align="center center" flex="33">
        <!-- Menu -->
        <span ng-repeat="menuPage in menus">
          <span ng-if="((!menuPage.subitems) || (menuPage.subitems.length <= 0))">
            <md-button id="mnu-button-{{mnuPage.page}}" class="md-fab md-mini md-primary" ng-disabled="menuPage.disabled"
                       ng-show="menuPage.alwaysShow || selectedCus" ng-click="navigateTo(menuPage.page)">
              <md-tooltip><span translate="{{'tcf.CM.cm_menu_' + menuPage.labelKey}}">...</span></md-tooltip>
              <md-icon class="md-28 md-iconFix" md-svg-src="{{menuPage.icon}}" style="color: white;"></md-icon>
            </md-button>
          </span>
          <span ng-if="((menuPage.subitems) && (menuPage.subitems.length > 0))">
            <md-menu md-position-mode="target-left bottom">
              <md-button id="mnu-button-{{mnuPage.page}}" class="md-fab md-mini md-primary" ng-disabled="menuPage.disabled"
                         ng-show="menuPage.alwaysShow || selectedCus" ng-click="openMenu($mdMenu, $event)">
                <md-tooltip><span translate="{{'tcf.CM.cm_menu_' + menuPage.labelKey}}">...</span></md-tooltip>
                <md-icon class="md-28 md-iconFix" md-svg-src="{{menuPage.icon}}" style="color: white;"></md-icon>
              </md-button>
              <!-- Only if menu have sub-items -->
              <md-menu-content width="3">
                <md-menu-item ng-repeat="subitem in menuPage.subitems" id="submnu-button-{{subitem.page}}">
                  <md-button ng-if="menuPage.id=='pageDrc2'" ng-click="showDRC2(subitem.queryId, subitem.label)" class="white">{{subitem.label}}</md-button>
                  <md-button ng-if="menuPage.id=='pageReports'" ng-click="showReport(subitem.path, subitem.reportType)" class="white">{{subitem.label}}</md-button>
                </md-menu-item>
              </md-menu-content>              
            </md-menu>
          </span>
        </span>

        <!-- Back to Case -->
        <md-button class="md-fab md-mini md-primary" ng-click="navigateBack()">
          <md-tooltip><span translate="tcf.CM.cm_return">...</span></md-tooltip>
          <md-icon class="md-48 md-iconFix" md-svg-src="images/svg/return.svg" style="color: white;"></md-icon>
        </md-button>
      </div>

      <!-- User Profile & Logout button -->
      <div layout="row" flex layout-align="end center" flex="33">

        <div style="margin-top:-35px; width:10px;">
          <irm-language-change template-path="components/irm-language-change/irm-language-change.html" />
        </div>

        <div layout="row" layout-align="center center">
          <div layout="row" layout-align="end center" class="titleUserName">{{profile.userName}}</div>
          <div id="irm-profile-button" ng-click="showUserLoginAlert();"><img style="height: 40px; border-radius: 50%" ng-src="{{profile.userNameImg}}"></div>
        </div>

        <md-button class="md-fab md-mini md-primary" aria-label="Setting" ng-click="logout();">
          <md-tooltip>{{'tcf.CM.cm_logout'| translate}}</md-tooltip>
          <md-icon class="md-48 md-iconFix" md-svg-src="images/svg/logout.svg" style="color: white;"></md-icon>
        </md-button>

      </div>

    </div>
  </nav>
  <div class="irm-container" layout="column" flex ng-viewport></div>
  <footer class="footer" layout="column" layout-align="center center">
    <span>All Rights Reserved | IRON MOUNTAIN INC. | &copy;2017</span>
  </footer>
</body>
</html>
